<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ‚Ø±ÙŠØ± ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© - Tamara | Tabby | HyperPay</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #111827;
            --bg-card: #1a1f35;
            --bg-code: #0d1117;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-cyan: #06b6d4;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --accent-pink: #ec4899;
            --tamara-color: #2d4a3e;
            --tamara-accent: #3fcea5;
            --tabby-color: #1a2744;
            --tabby-accent: #3dffc7;
            --hyperpay-color: #2a1a3e;
            --hyperpay-accent: #7c3aed;
            --border-color: rgba(255, 255, 255, 0.06);
            --glow-blue: 0 0 30px rgba(59, 130, 246, 0.15);
            --glow-purple: 0 0 30px rgba(139, 92, 246, 0.15);
            --radius: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.8;
            overflow-x: hidden;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 20% 50%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 80%, rgba(6, 182, 212, 0.05) 0%, transparent 50%);
            z-index: 0;
            pointer-events: none;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
            position: relative;
            z-index: 1;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 80px 0 60px;
            position: relative;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-blue), var(--accent-purple), transparent);
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            padding: 6px 20px;
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--accent-blue);
            margin-bottom: 24px;
        }

        .hero h1 {
            font-size: 2.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #fff, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px;
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.15rem;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Gateway Cards Row */
        .gateways-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 50px 0;
        }

        .gw-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 28px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .gw-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
        }

        .gw-card:nth-child(1)::before {
            background: linear-gradient(90deg, var(--tamara-accent), #10b981);
        }

        .gw-card:nth-child(2)::before {
            background: linear-gradient(90deg, var(--tabby-accent), #06b6d4);
        }

        .gw-card:nth-child(3)::before {
            background: linear-gradient(90deg, var(--hyperpay-accent), #ec4899);
        }

        .gw-card:hover {
            transform: translateY(-4px);
            border-color: rgba(255, 255, 255, 0.12);
        }

        .gw-card .gw-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }

        .gw-card h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .gw-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .gw-card .gw-type {
            display: inline-block;
            margin-top: 12px;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .gw-card:nth-child(1) .gw-type {
            background: rgba(63, 206, 165, 0.15);
            color: var(--tamara-accent);
        }

        .gw-card:nth-child(2) .gw-type {
            background: rgba(61, 255, 199, 0.12);
            color: var(--tabby-accent);
        }

        .gw-card:nth-child(3) .gw-type {
            background: rgba(124, 58, 237, 0.15);
            color: var(--hyperpay-accent);
        }

        /* Sections */
        .section {
            margin: 60px 0;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 30px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .section-header .icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .section-header h2 {
            font-size: 1.6rem;
            font-weight: 800;
        }

        .section-header p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Content Card */
        .content-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 32px;
            margin-bottom: 24px;
        }

        .content-card h3 {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .content-card h4 {
            font-size: 1rem;
            font-weight: 600;
            margin: 20px 0 10px;
            color: var(--accent-cyan);
        }

        .content-card p,
        .content-card li {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .content-card ul {
            padding-right: 20px;
        }

        .content-card li {
            margin-bottom: 6px;
        }

        /* Code Blocks */
        pre {
            background: var(--bg-code);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
            margin: 16px 0;
            direction: ltr;
            text-align: left;
        }

        code {
            font-family: 'Fira Code', monospace;
            font-size: 0.82rem;
            line-height: 1.7;
            color: #e2e8f0;
        }

        .code-label {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
            padding: 3px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 8px;
            direction: ltr;
        }

        /* Flow Steps */
        .flow-container {
            position: relative;
            padding: 10px 0;
        }

        .flow-step {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            position: relative;
        }

        .flow-step::before {
            content: '';
            position: absolute;
            right: 23px;
            top: 48px;
            bottom: -24px;
            width: 2px;
            background: linear-gradient(180deg, var(--accent-blue), transparent);
        }

        .flow-step:last-child::before {
            display: none;
        }

        .flow-num {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.1rem;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .flow-content {
            flex: 1;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
        }

        .flow-content h4 {
            margin: 0 0 8px;
            font-weight: 700;
            font-size: 1rem;
        }

        .flow-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
        }

        /* Colors for steps */
        .step-blue .flow-num {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
            border: 2px solid rgba(59, 130, 246, 0.3);
        }

        .step-purple .flow-num {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
            border: 2px solid rgba(139, 92, 246, 0.3);
        }

        .step-cyan .flow-num {
            background: rgba(6, 182, 212, 0.15);
            color: var(--accent-cyan);
            border: 2px solid rgba(6, 182, 212, 0.3);
        }

        .step-green .flow-num {
            background: rgba(16, 185, 129, 0.15);
            color: var(--accent-green);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .step-orange .flow-num {
            background: rgba(245, 158, 11, 0.15);
            color: var(--accent-orange);
            border: 2px solid rgba(245, 158, 11, 0.3);
        }

        /* Comparison Table */
        .table-wrap {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: rgba(59, 130, 246, 0.08);
        }

        th {
            padding: 14px 18px;
            font-weight: 700;
            font-size: 0.85rem;
            text-align: right;
            color: var(--accent-blue);
            border-bottom: 1px solid var(--border-color);
        }

        td {
            padding: 14px 18px;
            font-size: 0.88rem;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        /* Tags */
        .tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.72rem;
            font-weight: 600;
        }

        .tag-green {
            background: rgba(16, 185, 129, 0.15);
            color: var(--accent-green);
        }

        .tag-blue {
            background: rgba(59, 130, 246, 0.15);
            color: var(--accent-blue);
        }

        .tag-purple {
            background: rgba(139, 92, 246, 0.15);
            color: var(--accent-purple);
        }

        .tag-orange {
            background: rgba(245, 158, 11, 0.15);
            color: var(--accent-orange);
        }

        .tag-red {
            background: rgba(239, 68, 68, 0.15);
            color: var(--accent-red);
        }

        /* API Endpoint Box */
        .endpoint-box {
            background: var(--bg-code);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 14px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 12px 0;
            direction: ltr;
        }

        .method {
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            font-family: 'Fira Code', monospace;
        }

        .method-get {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
        }

        .method-post {
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
        }

        .endpoint-url {
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
        }

        /* Alert boxes */
        .alert {
            border-radius: 12px;
            padding: 16px 20px;
            margin: 16px 0;
            display: flex;
            gap: 12px;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.08);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .alert-warn {
            background: rgba(245, 158, 11, 0.08);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.08);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .alert p {
            margin: 0;
            font-size: 0.88rem;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 0;
            margin-top: 60px;
            border-top: 1px solid var(--border-color);
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 8px 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: transparent;
            color: var(--text-secondary);
            font-family: 'Cairo', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .tab-btn.active,
        .tab-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
            color: var(--accent-blue);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Diagram */
        .diagram-box {
            background: var(--bg-code);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            direction: ltr;
        }

        .diagram-box .arrow {
            color: var(--accent-blue);
            font-size: 1.5rem;
            margin: 8px 0;
            display: block;
        }

        .diagram-box .node {
            display: inline-block;
            padding: 10px 24px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            margin: 4px;
        }

        .node-app {
            background: rgba(59, 130, 246, 0.15);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: var(--accent-blue);
        }

        .node-server {
            background: rgba(139, 92, 246, 0.15);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: var(--accent-purple);
        }

        .node-gateway {
            background: rgba(6, 182, 212, 0.15);
            border: 1px solid rgba(6, 182, 212, 0.3);
            color: var(--accent-cyan);
        }

        .node-success {
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: var(--accent-green);
        }

        @media (max-width: 768px) {
            .gateways-row {
                grid-template-columns: 1fr;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .content-card {
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <!-- HERO -->
        <div class="hero">
            <div class="hero-badge">ğŸ“„ ØªÙ‚Ø±ÙŠØ± ØªÙ‚Ù†ÙŠ Ø´Ø§Ù…Ù„</div>
            <h1>ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h1>
            <p>ØªØ­Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ Ù„ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Tamara Ùˆ Tabby Ùˆ HyperPay Ù…Ø¹ Ø±Ø­Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø­ØªÙ‰ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</p>
        </div>

        <!-- Gateway Overview Cards -->
        <div class="gateways-row">
            <div class="gw-card">
                <div class="gw-icon">ğŸ’š</div>
                <h3>Tamara</h3>
                <p>Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„ØªÙ‚Ø³ÙŠØ· - Ø§Ø´ØªØ±Ù Ø§Ù„Ø¢Ù† ÙˆØ§Ø¯ÙØ¹ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¹Ù„Ù‰ 3 Ø£Ù‚Ø³Ø§Ø· Ø¨Ø¯ÙˆÙ† ÙÙˆØ§Ø¦Ø¯</p>
                <span class="gw-type">PAY_BY_INSTALMENTS</span>
            </div>
            <div class="gw-card">
                <div class="gw-icon">ğŸ’™</div>
                <h3>Tabby</h3>
                <p>ØªÙ‚Ø³ÙŠØ· Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª - Ø§Ø¯ÙØ¹ Ø¹Ù„Ù‰ 4 Ø¯ÙØ¹Ø§Øª Ø£Ùˆ Ø§Ø¯ÙØ¹ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ø±Ø³ÙˆÙ…</p>
                <span class="gw-type">Pay in 4 / Pay Later</span>
            </div>
            <div class="gw-card">
                <div class="gw-icon">ğŸ’œ</div>
                <h3>HyperPay</h3>
                <p>Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ Ù…Ø¨Ø§Ø´Ø± - ØªØ¯Ø¹Ù… Ù…Ø¯Ù‰ ÙˆÙÙŠØ²Ø§ ÙˆÙ…Ø§Ø³ØªØ±ÙƒØ§Ø±Ø¯ Ùˆ Apple Pay</p>
                <span class="gw-type">Direct Card Payment</span>
            </div>
        </div>

        <!--======================== SECTION 1: Architecture ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(59,130,246,0.12);color:var(--accent-blue);">ğŸ—ï¸</div>
                <div>
                    <h2>Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ (Architecture)</h2>
                    <p>ÙƒÙŠÙ ØªÙ… ØªÙ†Ø¸ÙŠÙ… Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø«Ù„Ø§Ø« ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù…Ø· Strategy Pattern</p>
                </div>
            </div>

            <div class="content-card">
                <h3>ğŸ”Œ ÙˆØ§Ø¬Ù‡Ø© Ù…ÙˆØ­Ø¯Ø© - PaymentGatewayInterface</h3>
                <p>ØªÙ… ØªØµÙ…ÙŠÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… <strong>Strategy Design Pattern</strong> Ø­ÙŠØ« ØªÙˆØ¬Ø¯ ÙˆØ§Ø¬Ù‡Ø© Ù…ÙˆØ­Ø¯Ø© ØªÙÙ„Ø²Ù… Ø¬Ù…ÙŠØ¹
                    Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø¨ØªÙˆÙÙŠØ± Ù†ÙØ³ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</p>

                <div class="code-label">ğŸ“ app/Interfaces/PaymentGatewayInterface.php</div>
                <pre><code>interface PaymentGatewayInterface
{
    // Ø¨Ø¯Ø¡ Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø£Ùˆ Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù„Ø³Ø©
    public function initiateCheckout(array $data): array;

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
    public function verifyPayment(string $paymentId): array;

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ ÙƒÙ†Øµ Ù…Ø¨Ø³Ø·
    public function getPaymentStatus(string $paymentId): string;
}</code></pre>

                <div class="alert alert-info">
                    <span>ğŸ’¡</span>
                    <p>Ù‡Ø°Ø§ Ø§Ù„Ù†Ù…Ø· ÙŠØ³Ù…Ø­ Ø¨Ø¥Ø¶Ø§ÙØ© Ø¨ÙˆØ§Ø¨Ø§Øª Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¯ÙˆÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ. ÙƒÙ„ Ø¨ÙˆØ§Ø¨Ø© ØªÙÙ†ÙØ°
                        Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø·Ø±ÙŠÙ‚ØªÙ‡Ø§ Ø§Ù„Ø®Ø§ØµØ©.</p>
                </div>

                <h4>ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª</h4>
                <pre><code>app/
â”œâ”€â”€ Interfaces/
â”‚   â””â”€â”€ PaymentGatewayInterface.php     â† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ TamaraPaymentService.php        â† Ø®Ø¯Ù…Ø© ØªÙ…Ø§Ø±Ø§
â”‚   â”œâ”€â”€ TabbyPaymentService.php         â† Ø®Ø¯Ù…Ø© ØªØ§Ø¨ÙŠ
â”‚   â””â”€â”€ HyperPayService.php            â† Ø®Ø¯Ù…Ø© Ù‡Ø§ÙŠØ¨Ø± Ø¨Ø§ÙŠ
â”œâ”€â”€ Http/Controllers/Api/
â”‚   â””â”€â”€ PaymentController.php           â† Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ù…ÙˆØ­Ø¯
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ Payment.php                     â† Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
config/
â”œâ”€â”€ services.php                        â† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙ…Ø§Ø±Ø§ ÙˆØªØ§Ø¨ÙŠ
â””â”€â”€ hyperpay.php                        â† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‡Ø§ÙŠØ¨Ø± Ø¨Ø§ÙŠ</code></pre>
            </div>

            <!-- Unified Flow Diagram -->
            <div class="content-card">
                <h3>ğŸ“Š Ù…Ø®Ø·Ø· Ø§Ù„ØªØ¯ÙÙ‚ Ø§Ù„Ù…ÙˆØ­Ø¯</h3>
                <div class="diagram-box">
                    <div class="node node-app">ğŸ“± ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„</div>
                    <span class="arrow">â¬‡ï¸ POST /api/payment/initiate</span>
                    <div class="node node-server">âš™ï¸ PaymentController</div>
                    <span class="arrow">â¬‡ï¸ ÙŠØ­Ø¯Ø¯ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø­Ø³Ø¨ payment_type</span>
                    <div style="display:flex;justify-content:center;gap:12px;flex-wrap:wrap;">
                        <div class="node node-gateway">Tamara API</div>
                        <div class="node node-gateway">Tabby API</div>
                        <div class="node node-gateway">HyperPay API</div>
                    </div>
                    <span class="arrow">â¬‡ï¸ checkout_url Ø£Ùˆ checkout_id</span>
                    <div class="node node-app">ğŸ“± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙÙƒÙ…Ù„ Ø§Ù„Ø¯ÙØ¹</div>
                    <span class="arrow">â¬‡ï¸ POST /api/payment/verify</span>
                    <div class="node node-server">âš™ï¸ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©</div>
                    <span class="arrow">â¬‡ï¸ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² + Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</span>
                    <div class="node node-success">âœ… ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¨Ù†Ø¬Ø§Ø­</div>
                </div>
            </div>
        </div>

        <!--======================== SECTION 2: API Endpoints ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(139,92,246,0.12);color:var(--accent-purple);">ğŸ”—</div>
                <div>
                    <h2>Ù†Ù‚Ø§Ø· Ø§Ù„Ø§ØªØµØ§Ù„ API Endpoints</h2>
                    <p>Ø§Ù„Ù€ Routes Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹</p>
                </div>
            </div>

            <div class="content-card">
                <h3>ğŸ›¤ï¸ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h3>

                <div class="endpoint-box">
                    <span class="method method-get">GET</span>
                    <span class="endpoint-url">/api/payment/methods</span>
                    <span class="tag tag-green" style="margin-right:auto;">Public</span>
                </div>
                <p>Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù‚Ø§Ø¦Ù…Ø© ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ØªØ§Ø­Ø© (Ù…Ø¯Ù‰ØŒ ÙÙŠØ²Ø§/Ù…Ø§Ø³ØªØ±ØŒ ØªØ§Ø¨ÙŠØŒ ØªÙ…Ø§Ø±Ø§ØŒ Apple Pay) Ù…Ø¹ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª.</p>

                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">/api/payment/initiate</span>
                    <span class="tag tag-orange" style="margin-right:auto;">Auth Required</span>
                </div>
                <p>Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹. ÙŠÙØ±Ø³Ù„ <code>booking_id</code> Ùˆ <code>payment_type</code> ÙˆÙŠØ³ØªÙ‚Ø¨Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹ Ø£Ùˆ
                    Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù„Ø³Ø©.</p>

                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">/api/payment/verify</span>
                    <span class="tag tag-orange" style="margin-right:auto;">Auth Required</span>
                </div>
                <p>Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©. ÙŠÙØ¤ÙƒØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆÙŠÙÙ†Ø´Ø¦ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­.</p>

                <div class="endpoint-box">
                    <span class="method method-get">GET</span>
                    <span class="endpoint-url">/api/payment/callback?gateway={gateway}</span>
                    <span class="tag tag-blue" style="margin-right:auto;">Callback</span>
                </div>
                <p>ØµÙØ­Ø© ÙˆØ³ÙŠØ·Ø© ÙŠÙØ¹Ø§Ø¯ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„ÙŠÙ‡Ø§ Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Tabby Ø£Ùˆ Tamara. ÙŠØ¹ØªØ±Ø¶Ù‡Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬
                    payment_id.</p>
            </div>
        </div>

        <!--======================== SECTION 3: Tamara ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(63,206,165,0.12);color:var(--tamara-accent);">ğŸ’š</div>
                <div>
                    <h2>Ø¨ÙˆØ§Ø¨Ø© Tamara - Ø§Ù„Ø¯ÙØ¹ Ø¨Ø§Ù„ØªÙ‚Ø³ÙŠØ·</h2>
                    <p>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Tamara API ÙˆÙÙ‚ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø±Ø³Ù…ÙŠ</p>
                </div>
            </div>

            <div class="content-card">
                <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
                <div class="code-label">ğŸ“ config/services.php â†’ tamara</div>
                <pre><code>'tamara' => [
    'api_token' => env('TAMARA_API_TOKEN'),         // Ù…ÙØªØ§Ø­ API Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø©
    'notification_key' => env('TAMARA_NOTIFICATION_KEY'), // Ù…ÙØªØ§Ø­ Webhook
    'base_url' => env('TAMARA_API_URL', 'https://api.tamara.co'),
],</code></pre>

                <h4>ğŸ” Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h4>
                <p>ØªØ³ØªØ®Ø¯Ù… Tamara Ù†Ø¸Ø§Ù… <strong>Bearer Token Authentication</strong>. ÙŠÙØ±Ø³Ù„ Ø§Ù„Ù€ API Token ÙÙŠ ØªØ±ÙˆÙŠØ³Ø©
                    Authorization Ù…Ø¹ ÙƒÙ„ Ø·Ù„Ø¨.</p>

                <h4>ğŸ“¤ 1. Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯ÙØ¹ (Checkout)</h4>
                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">{base_url}/checkout</span>
                </div>

                <div class="code-label">ğŸ“¦ Payload Ø§Ù„Ù…Ø±Ø³Ù„</div>
                <pre><code>{
  "total_amount": { "amount": 500.00, "currency": "SAR" },
  "shipping_amount": { "amount": 0, "currency": "SAR" },
  "tax_amount": { "amount": 0, "currency": "SAR" },
  "order_reference_id": "BOOKING-15-1707955200",
  "order_number": "BOOKING-15-1707955200",
  "items": [{ "name": "Trip Booking", "quantity": 1, ... }],
  "consumer": {
    "email": "user@example.com",
    "first_name": "Ø£Ø­Ù…Ø¯",
    "last_name": "Ù…Ø­Ù…Ø¯",
    "phone_number": "966500000000"
  },
  "country_code": "SA",
  "payment_type": "PAY_BY_INSTALMENTS",
  "instalments": 3,
  "merchant_url": {
    "success": "{callback_url}?status=success",
    "failure": "{callback_url}?status=failure",
    "cancel": "{callback_url}?status=cancel",
    "notification": "{callback_url}/webhook"
  },
  "shipping_address": { "city": "Riyadh", "country_code": "SA", ... },
  "billing_address": { "city": "Riyadh", "country_code": "SA", ... }
}</code></pre>

                <div class="code-label">âœ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù†Ø§Ø¬Ø­Ø©</div>
                <pre><code>{
  "checkout_id": "tam_ck_xxxxx",     // Ù…Ø¹Ø±Ù‘Ù Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯ÙØ¹
  "order_id": "tam_ord_xxxxx",       // Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø·Ù„Ø¨
  "checkout_url": "https://checkout.tamara.co/..."  // Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹
}</code></pre>

                <h4>ğŸ” 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹ (Authorise Order)</h4>
                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">{base_url}/orders/{orderId}/authorise</span>
                </div>
                <p>Ø¨Ø¹Ø¯ Ø¹ÙˆØ¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ØŒ ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ <strong>Authorise</strong> Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨. Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ£ÙƒÙŠØ¯
                    (Ø±Ø¨Ù…Ø§ ØªÙ… ØªØ£ÙƒÙŠØ¯Ù‡ Ù…Ø³Ø¨Ù‚Ø§Ù‹)ØŒ ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡:</p>
                <div class="endpoint-box">
                    <span class="method method-get">GET</span>
                    <span class="endpoint-url">{base_url}/orders/{orderId}</span>
                </div>
                <p>Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­: <span class="tag tag-green">authorised</span> Ø£Ùˆ <span
                        class="tag tag-green">fully_captured</span></p>
            </div>
        </div>

        <!--======================== SECTION 4: Tabby ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(61,255,199,0.1);color:var(--tabby-accent);">ğŸ’™</div>
                <div>
                    <h2>Ø¨ÙˆØ§Ø¨Ø© Tabby - Ø§Ø¯ÙØ¹ Ø¹Ù„Ù‰ 4 Ø¯ÙØ¹Ø§Øª</h2>
                    <p>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Tabby Checkout API v2</p>
                </div>
            </div>

            <div class="content-card">
                <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
                <div class="code-label">ğŸ“ config/services.php â†’ tabby</div>
                <pre><code>'tabby' => [
    'public_key' => env('TABBY_PUBLIC_KEY'),     // Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø©
    'secret_key' => env('TABBY_SECRET_KEY'),     // Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹
    'merchant_code' => env('TABBY_MERCHANT_CODE'), // ÙƒÙˆØ¯ Ø§Ù„ØªØ§Ø¬Ø±
    'base_url' => env('TABBY_BASE_URL', 'https://api.tabby.ai/api/v2'),
],</code></pre>

                <h4>ğŸ” Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h4>
                <p>ØªØ³ØªØ®Ø¯Ù… Tabby Ù…ÙØªØ§Ø­ÙŠÙ†: <strong>Public Key</strong> Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù€ CheckoutØŒ Ùˆ <strong>Secret
                        Key</strong> Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„ØªÙØ§ØµÙŠÙ„.</p>

                <h4>ğŸ“¤ 1. Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø§Ù„Ø¯ÙØ¹ (Create Session)</h4>
                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">{base_url}/checkout</span>
                </div>

                <div class="code-label">ğŸ“¦ Payload Ø§Ù„Ù…Ø±Ø³Ù„</div>
                <pre><code>{
  "payment": {
    "amount": "500.00",
    "currency": "SAR",
    "description": "Order Payment",
    "buyer": {
      "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
      "email": "user@example.com",
      "phone": "966500000000"
    },
    "shipping_address": {
      "city": "Riyadh",
      "address": "Saudi Arabia",
      "zip": "0000"
    },
    "order": {
      "reference_id": "BOOKING-15-1707955200",
      "items": [{ "title": "Trip Booking", "quantity": 1, "unit_price": 500 }]
    }
  },
  "lang": "ar",
  "merchant_code": "YOUR_MERCHANT_CODE",
  "merchant_urls": {
    "success": "{callback_url}?status=success",
    "cancel": "{callback_url}?status=cancel",
    "failure": "{callback_url}?status=failure"
  }
}</code></pre>

                <div class="code-label">âœ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù†Ø§Ø¬Ø­Ø©</div>
                <pre><code>{
  "id": "sess_xxxxx",    // Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¬Ù„Ø³Ø©
  "configuration": {
    "available_products": {
      "installments": [{ "web_url": "https://checkout.tabby.ai/..." }],
      "pay_later": [{ "web_url": "https://checkout.tabby.ai/..." }]
    }
  }
}</code></pre>
                <p>ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ <code>web_url</code> Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø­ (installments Ø£Ùˆ pay_later) ÙƒØ±Ø§Ø¨Ø· Ø§Ù„Ø¯ÙØ¹.</p>

                <h4>ğŸ” 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹ (Retrieve Payment)</h4>
                <div class="endpoint-box">
                    <span class="method method-get">GET</span>
                    <span class="endpoint-url">{base_url}/payments/{paymentId}</span>
                </div>
                <p>ÙŠÙØ³ØªØ®Ø¯Ù… Ø§Ù„Ù€ <strong>Secret Key</strong> Ù„Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚.</p>
                <p>Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­: <span class="tag tag-green">authorized</span> Ø£Ùˆ <span
                        class="tag tag-green">closed</span></p>
            </div>
        </div>

        <!--======================== SECTION 5: HyperPay ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(124,58,237,0.12);color:var(--hyperpay-accent);">ğŸ’œ</div>
                <div>
                    <h2>Ø¨ÙˆØ§Ø¨Ø© HyperPay - Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</h2>
                    <p>ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ HyperPay / ACI OPP API</p>
                </div>
            </div>

            <div class="content-card">
                <h3>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h3>
                <div class="code-label">ğŸ“ config/hyperpay.php</div>
                <pre><code>'base_url'     => env('HYPERPAY_BASE_URL', 'https://test.oppwa.com/v1/'),
'access_token' => env('HYPERPAY_ACCESS_TOKEN'),
'entity_ids'   => [
    'mada'        => env('HYPERPAY_ENTITY_ID_MADA'),
    'visa_master' => env('HYPERPAY_ENTITY_ID_VISA_MASTER'),
    'apple_pay'   => env('HYPERPAY_ENTITY_ID_APPLE'),
],
'currency' => env('HYPERPAY_CURRENCY', 'SAR'),</code></pre>

                <h4>ğŸ” Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h4>
                <p>ØªØ³ØªØ®Ø¯Ù… HyperPay Ù†Ø¸Ø§Ù… <strong>Bearer Token + Entity ID</strong>. ÙƒÙ„ ÙˆØ³ÙŠÙ„Ø© Ø¯ÙØ¹ (Ù…Ø¯Ù‰ / ÙÙŠØ²Ø§ / Apple Pay)
                    Ù„Ù‡Ø§ Entity ID Ø®Ø§Øµ Ø¨Ù‡Ø§.</p>

                <div class="alert alert-warn">
                    <span>âš ï¸</span>
                    <p><strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong> HyperPay ØªØ®ØªÙ„Ù Ø¹Ù† Tamara Ùˆ Tabby ÙÙŠ Ø£Ù†Ù‡Ø§ ØªØ³ØªØ®Ø¯Ù…
                        <code>application/x-www-form-urlencoded</code> Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† JSON.</p>
                </div>

                <h4>ğŸ“¤ 1. Ø¥Ù†Ø´Ø§Ø¡ Checkout (Prepare Checkout)</h4>
                <div class="endpoint-box">
                    <span class="method method-post">POST</span>
                    <span class="endpoint-url">{base_url}checkouts</span>
                </div>

                <div class="code-label">ğŸ“¦ Parameters Ø§Ù„Ù…Ø±Ø³Ù„Ø© (Form Data)</div>
                <pre><code>entityId=ENTITY_ID_HERE
&amount=500.00
&currency=SAR
&paymentType=DB
&merchantTransactionId=BOOKING-15-1707955200
&customer.email=user@example.com</code></pre>

                <div class="code-label">âœ… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù†Ø§Ø¬Ø­Ø©</div>
                <pre><code>{
  "result": { "code": "000.200.100", "description": "successfully created checkout" },
  "id": "B9C694..."   // Checkout ID - ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯ÙØ¹
}</code></pre>
                <p>ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ <code>Checkout ID</code> Ù„Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¶Ù…Ù‘Ù† (Payment Widget) Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.
                </p>

                <h4>ğŸ” 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹ (Get Payment Status)</h4>
                <div class="endpoint-box">
                    <span class="method method-get">GET</span>
                    <span class="endpoint-url">{base_url}checkouts/{checkoutId}/payment?entityId={entityId}</span>
                </div>

                <div class="code-label">ğŸ”¢ ÙØ­Øµ Ø±Ù…Ø² Ø§Ù„Ù†ØªÙŠØ¬Ø© (Result Code)</div>
                <pre><code>// Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­ ØªØªØ¨Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù†Ù…Ø§Ø·:
// 000.000.xxx â†’ Ù†Ø¬Ø§Ø­ ØªØ§Ù…
// 000.100.1xx â†’ Ù†Ø¬Ø§Ø­ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
// 000.3xxxxx â†’ Ù†Ø¬Ø§Ø­ (Ù…Ø±Ø§Ø¬Ø¹Ø©)
// 000.6xxxxx â†’ Ù†Ø¬Ø§Ø­ (Ù…Ø¹Ù„Ù‚)

function isSuccessful($resultCode) {
    return preg_match('/^(000\.000\.|000\.100\.1|000\.[36])/', $resultCode);
}</code></pre>
            </div>
        </div>

        <!--======================== SECTION 6: Payment Flow ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(6,182,212,0.12);color:var(--accent-cyan);">ğŸ”„</div>
                <div>
                    <h2>Ø±Ø­Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Full Payment Journey)</h2>
                    <p>Ù…Ù† Ù„Ø­Ø¸Ø© Ø§Ø®ØªÙŠØ§Ø± ÙˆØ³ÙŠÙ„Ø© Ø§Ù„Ø¯ÙØ¹ ÙˆØ­ØªÙ‰ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥ØµØ¯Ø§Ø± Ø§Ù„ÙØ§ØªÙˆØ±Ø©</p>
                </div>
            </div>

            <div class="flow-container">
                <div class="flow-step step-blue">
                    <div class="flow-num">1</div>
                    <div class="flow-content">
                        <h4>ğŸ“± Ø¹Ø±Ø¶ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¯ÙØ¹</h4>
                        <p>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ³ØªØ¯Ø¹ÙŠ <code>GET /api/payment/methods</code> Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: Ù…Ø¯Ù‰ØŒ ÙÙŠØ²Ø§/Ù…Ø§Ø³ØªØ±ØŒ
                            ØªØ§Ø¨ÙŠØŒ ØªÙ…Ø§Ø±Ø§ØŒ Apple Pay. ÙƒÙ„ ÙˆØ³ÙŠÙ„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ <code>key</code> Ùˆ <code>name</code> Ùˆ
                            <code>type</code> Ùˆ <code>icon</code>.</p>
                    </div>
                </div>

                <div class="flow-step step-purple">
                    <div class="flow-num">2</div>
                    <div class="flow-content">
                        <h4>ğŸ“¤ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹</h4>
                        <p>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ±Ø³Ù„ <code>POST /api/payment/initiate</code> Ù…Ø¹ <code>booking_id</code> Ùˆ
                            <code>payment_type</code>. Ø§Ù„Ù…ØªØ­ÙƒÙ… ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø­Ø¬Ø² Ø«Ù… ÙŠÙˆØ¬Ù‡ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.</p>
                    </div>
                </div>

                <div class="flow-step step-cyan">
                    <div class="flow-num">3</div>
                    <div class="flow-content">
                        <h4>ğŸŒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</h4>
                        <p><strong>Tamara/Tabby:</strong> ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© checkout ÙˆØ§Ø³ØªÙ„Ø§Ù… <code>checkout_url</code>
                            Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….<br>
                            <strong>HyperPay:</strong> ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ <code>checkout_id</code> Ù„Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ø¶Ù…Ù‘Ù† ÙÙŠ
                            Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.
                        </p>
                    </div>
                </div>

                <div class="flow-step step-orange">
                    <div class="flow-num">4</div>
                    <div class="flow-content">
                        <h4>ğŸ’³ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¯ÙØ¹</h4>
                        <p><strong>Tamara/Tabby:</strong> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙÙˆØ¬ÙÙ‘Ù‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©ØŒ ÙŠÙØ¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙ‡ØŒ Ø«Ù… ÙŠÙØ¹Ø§Ø¯
                            ØªÙˆØ¬ÙŠÙ‡Ù‡ Ø¥Ù„Ù‰ <code>/api/payment/callback</code> Ù…Ø¹ Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹.<br>
                            <strong>HyperPay:</strong> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØ¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ù…Ø¶Ù…Ù‘Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.
                        </p>
                    </div>
                </div>

                <div class="flow-step step-green">
                    <div class="flow-num">5</div>
                    <div class="flow-content">
                        <h4>âœ… Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„ØªØ£ÙƒÙŠØ¯</h4>
                        <p>Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ³ØªØ¯Ø¹ÙŠ <code>POST /api/payment/verify</code> Ù…Ø¹ <code>payment_id</code> Ø£Ùˆ
                            <code>checkout_id</code>. Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©ØŒ ÙˆØ¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­:</p>
                        <ul>
                            <li>ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø² Ø¥Ù„Ù‰ <span class="tag tag-green">confirmed</span></li>
                            <li>Ø®ØµÙ… Ø§Ù„ØªØ°Ø§ÙƒØ± Ù…Ù† Ø§Ù„Ø±Ø­Ù„Ø©</li>
                            <li>ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ø¬Ø¯ÙˆÙ„ <code>payments</code></li>
                            <li>Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© PDF Ø¹Ø¨Ø± <code>InvoiceService</code></li>
                            <li>Ø¥Ø±Ø¬Ø§Ø¹ <code>invoice_url</code> Ùˆ <code>transaction_id</code> Ù„Ù„ØªØ·Ø¨ÙŠÙ‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!--======================== SECTION 7: Comparison Table ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(245,158,11,0.12);color:var(--accent-orange);">ğŸ“Š</div>
                <div>
                    <h2>Ù…Ù‚Ø§Ø±Ù†Ø© Ø´Ø§Ù…Ù„Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«</h2>
                    <p>ØªÙˆØ§ÙÙ‚ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©</p>
                </div>
            </div>

            <div class="table-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</th>
                            <th>Tamara</th>
                            <th>Tabby</th>
                            <th>HyperPay</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¯ÙØ¹</strong></td>
                            <td>ØªÙ‚Ø³ÙŠØ· (BNPL)</td>
                            <td>ØªÙ‚Ø³ÙŠØ· (BNPL)</td>
                            <td>Ø¯ÙØ¹ Ù…Ø¨Ø§Ø´Ø± (Card)</td>
                        </tr>
                        <tr>
                            <td><strong>Ù†ÙˆØ¹ Ø§Ù„ØªÙƒØ§Ù…Ù„</strong></td>
                            <td>Redirect</td>
                            <td>Redirect</td>
                            <td>Embedded Widget</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</strong></td>
                            <td>Bearer Token ÙˆØ§Ø­Ø¯</td>
                            <td>Public Key + Secret Key</td>
                            <td>Bearer Token + Entity IDs</td>
                        </tr>
                        <tr>
                            <td><strong>ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</strong></td>
                            <td>JSON</td>
                            <td>JSON</td>
                            <td>Form URL-Encoded</td>
                        </tr>
                        <tr>
                            <td><strong>Ø¥Ù†Ø´Ø§Ø¡ Checkout</strong></td>
                            <td>POST /checkout</td>
                            <td>POST /checkout</td>
                            <td>POST /checkouts</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©</strong></td>
                            <td>checkout_url + order_id</td>
                            <td>session_id + web_url</td>
                            <td>checkout_id ÙÙ‚Ø·</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„ØªØ­Ù‚Ù‚</strong></td>
                            <td>POST /orders/{id}/authorise</td>
                            <td>GET /payments/{id}</td>
                            <td>GET /checkouts/{id}/payment</td>
                        </tr>
                        <tr>
                            <td><strong>Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</strong></td>
                            <td><span class="tag tag-green">authorised / fully_captured</span></td>
                            <td><span class="tag tag-green">authorized / closed</span></td>
                            <td><span class="tag tag-green">Result Code Pattern</span></td>
                        </tr>
                        <tr>
                            <td><strong>Callback URL</strong></td>
                            <td>success/failure/cancel + webhook</td>
                            <td>success/cancel/failure</td>
                            <td>Ù„Ø§ ÙŠÙˆØ¬Ø¯ (Widget Ù…Ø¨Ø§Ø´Ø±)</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</strong></td>
                            <td>SAR</td>
                            <td>SAR</td>
                            <td>SAR (Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØºÙŠÙŠØ±)</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„Ø¨Ù„Ø¯</strong></td>
                            <td>SA (Ø«Ø§Ø¨Øª Ø­Ø§Ù„ÙŠØ§Ù‹)</td>
                            <td>Ø­Ø³Ø¨ Ø§Ù„Ù„ØºØ©</td>
                            <td>ØºÙŠØ± Ù…Ø­Ø¯Ø¯</td>
                        </tr>
                        <tr>
                            <td><strong>Ø§Ù„Ø£Ù‚Ø³Ø§Ø·</strong></td>
                            <td>3 Ø£Ù‚Ø³Ø§Ø·</td>
                            <td>4 Ø¯ÙØ¹Ø§Øª / Ø§Ø¯ÙØ¹ Ù„Ø§Ø­Ù‚Ø§Ù‹</td>
                            <td>Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒØ§Ù…Ù„Ø©</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!--======================== SECTION 8: Database ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(16,185,129,0.12);color:var(--accent-green);">ğŸ—„ï¸</div>
                <div>
                    <h2>Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Ø¬Ø¯ÙˆÙ„ Payments</h2>
                    <p>Ù‡ÙŠÙƒÙ„ ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…ÙˆØ­Ø¯</p>
                </div>
            </div>

            <div class="content-card">
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>Ø§Ù„Ø¹Ù…ÙˆØ¯</th>
                                <th>Ø§Ù„Ù†ÙˆØ¹</th>
                                <th>Ø§Ù„ÙˆØµÙ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>id</code></td>
                                <td>bigint (PK)</td>
                                <td>Ø§Ù„Ù…Ø¹Ø±Ù‘Ù Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ</td>
                            </tr>
                            <tr>
                                <td><code>trip_booking_id</code></td>
                                <td>FK â†’ trip_bookings</td>
                                <td>Ø±Ø¨Ø· Ø¨Ø§Ù„Ø­Ø¬Ø²</td>
                            </tr>
                            <tr>
                                <td><code>payment_gateway</code></td>
                                <td>enum: hyperpay, tabby, tamara</td>
                                <td>Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</td>
                            </tr>
                            <tr>
                                <td><code>payment_method</code></td>
                                <td>string (nullable)</td>
                                <td>Ø§Ù„ÙˆØ³ÙŠÙ„Ø©: mada, visa_master, apple_pay, tabby, tamara</td>
                            </tr>
                            <tr>
                                <td><code>transaction_id</code></td>
                                <td>string (unique)</td>
                                <td>Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</td>
                            </tr>
                            <tr>
                                <td><code>amount</code></td>
                                <td>decimal(10,2)</td>
                                <td>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹</td>
                            </tr>
                            <tr>
                                <td><code>currency</code></td>
                                <td>string (SAR)</td>
                                <td>Ø§Ù„Ø¹Ù…Ù„Ø©</td>
                            </tr>
                            <tr>
                                <td><code>status</code></td>
                                <td>enum: pending, paid, failed</td>
                                <td>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</td>
                            </tr>
                            <tr>
                                <td><code>raw_response</code></td>
                                <td>JSON (nullable)</td>
                                <td>Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</td>
                            </tr>
                            <tr>
                                <td><code>invoice_path</code></td>
                                <td>string (nullable)</td>
                                <td>Ù…Ø³Ø§Ø± ÙØ§ØªÙˆØ±Ø© PDF</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!--======================== SECTION 9: completePayment ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(236,72,153,0.12);color:var(--accent-pink);">âš¡</div>
                <div>
                    <h2>Ø¹Ù…Ù„ÙŠØ© Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ (completePayment)</h2>
                    <p>Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙŠ ØªÙÙ†ÙÙÙ‘Ø° Ø¹Ù†Ø¯ Ù†Ø¬Ø§Ø­ Ø£ÙŠ Ø¨ÙˆØ§Ø¨Ø©</p>
                </div>
            </div>

            <div class="content-card">
                <p>Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ø§Ø¬Ø­ Ù…Ù† Ø£ÙŠ Ø¨ÙˆØ§Ø¨Ø©ØŒ ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ <code>completePayment()</code> Ø§Ù„ØªÙŠ ØªÙÙ†ÙØ° Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
                    Ø¨Ø´ÙƒÙ„ Ù…ÙˆØ­Ø¯:</p>

                <div class="code-label">ğŸ“ PaymentController.php â†’ completePayment()</div>
                <pre><code>protected function completePayment($bookingId, $gateway, $transactionId, $response, $paymentMethod)
{
    // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø² Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø©
    $booking = TripBooking::with('trip')->find($bookingId);

    // 2. ÙØ­Øµ Idempotency - Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¤ÙƒØ¯Ø§Ù‹ Ù…Ø³Ø¨Ù‚Ø§Ù‹ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
    if ($booking->status === 'confirmed') {
        return Payment::where('trip_booking_id', $bookingId)->first()->invoice_path;
    }

    // 3. Ø®ØµÙ… Ø§Ù„ØªØ°Ø§ÙƒØ± Ù…Ù† Ø§Ù„Ø±Ø­Ù„Ø© (Ù…Ø¹ ØªØ³Ø¬ÙŠÙ„ Ø­Ø§Ù„Ø© Overbooking)
    $newCount = max(0, $booking->trip->tickets - $booking->tickets_count);
    $booking->trip->update(['tickets' => $newCount]);

    // 4. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø² Ø¥Ù„Ù‰ "confirmed"
    $booking->update(['status' => 'confirmed']);

    // 5. ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    $payment = Payment::create([
        'trip_booking_id' => $booking->id,
        'payment_gateway' => $gateway,        // hyperpay / tabby / tamara
        'payment_method'  => $paymentMethod,  // mada / visa_master / etc.
        'transaction_id'  => $transactionId,
        'amount' => $booking->total_price,
        'currency' => 'SAR',
        'status' => 'paid',
        'raw_response' => $response,
    ]);

    // 6. Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© PDF
    $invoicePath = $this->invoiceService->generateInvoice($booking);
    $payment->update(['invoice_path' => $invoicePath]);

    return $invoicePath;
}</code></pre>

                <div class="alert alert-success">
                    <span>âœ…</span>
                    <p><strong>Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ù…ÙˆØ­Ø¯:</strong> Ø±ØºÙ… Ø§Ø®ØªÙ„Ø§Ù Ø¢Ù„ÙŠØ§Øª ÙƒÙ„ Ø¨ÙˆØ§Ø¨Ø© ÙÙŠ Ø§Ù„Ù€ Checkout ÙˆØ§Ù„ØªØ­Ù‚Ù‚ØŒ ÙØ¥Ù† Ø¹Ù…Ù„ÙŠØ©
                        Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ø­Ø¯Ø© ÙˆÙ…Ø´ØªØ±ÙƒØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø§Øª. Ù‡Ø°Ø§ ÙŠØ¶Ù…Ù† Ø§ØªØ³Ø§Ù‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….</p>
                </div>
            </div>
        </div>

        <!--======================== SECTION 10: Callback ========================-->
        <div class="section">
            <div class="section-header">
                <div class="icon" style="background:rgba(59,130,246,0.12);color:var(--accent-blue);">ğŸ”™</div>
                <div>
                    <h2>Ø¢Ù„ÙŠØ© Callback ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„</h2>
                    <p>ÙƒÙŠÙ ÙŠØªÙ… Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø§Ø¯Ù… ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹</p>
                </div>
            </div>

            <div class="content-card">
                <h3>ğŸ“± Ø¢Ù„ÙŠØ© Ø§Ù„Ù€ Callback Ù„Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
                <p>Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Tamara Ø£Ùˆ TabbyØŒ ÙŠÙØ¹Ø§Ø¯ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© ÙˆØ³ÙŠØ·Ø© Ø¨Ø¹Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹:</p>

                <div class="code-label">ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ù€ Callback</div>
                <pre><code>GET /api/payment/callback?gateway=tabby&status=success&payment_id=pay_xxxxx
GET /api/payment/callback?gateway=tamara&status=success&payment_id=ord_xxxxx</code></pre>

                <p>Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© "Ø¬Ø§Ø±Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©..." Ø¨ÙŠÙ†Ù…Ø§ ÙŠÙ‚ÙˆÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø¨Ù€:</p>
                <ul>
                    <li><strong>Ø§Ø¹ØªØ±Ø§Ø¶ Ø§Ù„Ù€ URL</strong> Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø¹Ø¨Ø± WebView Interception</li>
                    <li><strong>Ø§Ø³ØªØ®Ø±Ø§Ø¬ <code>payment_id</code></strong> Ù…Ù† Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø·</li>
                    <li><strong>Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ <code>POST /api/payment/verify</code></strong> Ù…Ø¹ Ø§Ù„Ù€ payment_id Ù„Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
                    </li>
                </ul>

                <div class="alert alert-info">
                    <span>ğŸ’¡</span>
                    <p><strong>HyperPay</strong> Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø¢Ù„ÙŠØ© Ù„Ø£Ù† Ø§Ù„Ø¯ÙØ¹ ÙŠØªÙ… Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ø¨Ø± Widget
                        Ù…Ø¶Ù…Ù‘Ù†. Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ØŒ ÙŠØ³ØªØ¯Ø¹ÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ verify Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>ğŸ“„ ØªÙ‚Ø±ÙŠØ± ØªÙƒØ§Ù…Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ â€” ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨ØªØ§Ø±ÙŠØ® 16 ÙØ¨Ø±Ø§ÙŠØ± 2026</p>
            <p style="margin-top:8px;">Tamara API â€¢ Tabby API v2 â€¢ HyperPay OPP API v1</p>
        </div>
    </div>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                const group = this.closest('.content-card');
                group.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                group.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                group.querySelector('#' + this.dataset.tab).classList.add('active');
            });
        });
    </script>
</body>

</html>